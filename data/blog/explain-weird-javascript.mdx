---
title: 诡异的 JavaScript
publishedAt: '2022-01-04'
description: JavaScript 中有很多诡异的地方，有时候它不以你想象的方式运作。
---

JavaScript 中有很多诡异的地方，有时候它不以你想象的方式运作。即使作为日常使用者，也没法立刻说出答案。下面 25 题（[题目来源](https://jsisweird.com)），看看你能答对吗？

<QAndA
  q="true + false"
  a={1}
  options={['"truefalse"', '1', 'NaN', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

根据 [ECMA262 规范](https://262.ecma-international.org/#sec-addition-operator-plus)，两个布尔值相加结果为其转换为数值类型的值相加。

```js
Number(true); // -> 1
Number(false); // -> 0

1 + 0; // -> 1
```

</details>

<QAndA q="[,,,].length" a={1} options={['0', '3', '4', 'SyntaxError']} />

<details>
  <summary>解释</summary>

JavaScript 会忽略数组中的尾后逗号。

```js
[] + [] === [,] + [,]; // -> true
```

所以 `[,,,]` 和 `[1,2,3]` 的 `length` 都是 `3`。

</details>

<QAndA
  q="[1,2,3] + [4,5,6]"
  a={1}
  options={['"123456"', '"1,2,34,5,6"', '"1,2,3,4,5,6"', 'NaN']}
/>

<details>
  <summary>解释</summary>

根据 [ECMA262 规范](https://262.ecma-international.org/#sec-addition-operator-plus) 二元运算符(+) 在求值前会将操作数转换为原始类型[ToPrimitive](https://262.ecma-international.org/#sec-toprimitive)。数值通过调用 `Array.prototype.join()` 计算该值。

```js
[1, 2, 3].join(); // -> "1,2,3"
[4, 5, 6].join(); // -> "4,5,6"

'1,2,3' + '4,5,6'; // -> "1,2,34,5,6"
```

</details>

<QAndA
  q="0.2 + 0.1 === 0.3"
  a={1}
  options={['true', 'false', 'NaN', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA q="10,2" a={2} options={['10.2', '10', '2', '20']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='!!""' a={1} options={['true', 'false', 'undefined', 'SyntaxError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q="+!![]" a={3} options={['true', 'false', '0', '1']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q="!!!true" a={1} options={['true', 'false', '0', 'SyntaxError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA
  q='true == "true"'
  a={1}
  options={['true', 'false', 'undefined', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA q="010 - 03" a={1} options={['7', '5', '3', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='"" - - ""' a={1} options={['""', '0', 'NaN', 'SyntaxError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q="null + 0" a={0} options={['0', 'null0', 'NaN', 'TypeError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q="0/0" a={2} options={['0', 'Infinity', 'NaN', 'SyntaxError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA
  q="1/0 > 10 ** 1000"
  a={1}
  options={['true', 'false', 'NaN', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA q="true++" a={3} options={['1', '2', 'NaN', 'SyntaxError']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='"" - 1' a={2} options={['"1"', '"-1"', '-1', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='(null - 0) + "0"' a={1} options={['"null0"', '"00"', '0', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA
  q='true + ("true" - 0)'
  a={2}
  options={['1', '2', 'NaN', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA q="!5 + !5" a={0} options={['0', '10', '25', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q="[] + []" a={2} options={['[]', '[,]', '""', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='1 + 2 + "3"' a={2} options={['6', '"123"', '"33"', 'NaN']} />

<details>
  <summary>解释</summary>

</details>

<QAndA
  q="typeof NaN"
  a={0}
  options={['"number"', '"nan"', '"undefined"', 'object']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA
  q="undefined + false"
  a={2}
  options={['"undefinedfalse"', '0', 'NaN', 'SyntaxError']}
/>

<details>
  <summary>解释</summary>

</details>

<QAndA q='"" && -0' a={2} options={['true', 'false', '""', '-0']} />

<details>
  <summary>解释</summary>

</details>

<QAndA q='+!!NaN * "" - - [,]' a={0} options={['0', '"0"', 'NaN', '钝角']} />

<details>
  <summary>解释</summary>

</details>
